(window.webpackJsonp=window.webpackJsonp||[]).push([[435],{870:function(e,o,t){"use strict";t.r(o);var r=t(29),v=Object(r.a)({},(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("先理理他们的使用范围：\n")]),e._v(" "),t("blockquote",{staticClass:"wp-block-quote"},[t("code",[e._v("require")]),e._v(": node 和 es6 都支持的引入"),t("br"),t("code",[e._v("export/import")]),e._v(" : 只有es6 支持的导出引入"),t("br"),t("code",[e._v("module.exports/exports")]),e._v(": 只有 node 支持的导出")]),e._v(" "),t("h2",{attrs:{id:"articleHeader1"}},[e._v("node模块")]),e._v(" "),t("p",[t("code",[e._v("Node")]),e._v("里面的模块系统遵循的是"),t("code",[e._v("CommonJS")]),e._v("规范。"),t("br"),e._v("那问题又来了，什么是"),t("code",[e._v("CommonJS")]),e._v("规范呢？"),t("br"),e._v("由于"),t("code",[e._v("js")]),e._v("以前比较混乱，各写各的代码，没有一个模块的概念，而这个规范出来其实就是对模块的一个定义。\n")]),e._v(" "),t("blockquote",{staticClass:"wp-block-quote"},[t("code",[e._v("CommonJS")]),e._v("定义的模块分为: 模块标识("),t("code",[e._v("module")]),e._v(")、模块定义("),t("code",[e._v("exports")]),e._v(") 、模块引用("),t("code",[e._v("require")]),e._v(")")]),e._v(" "),t("p",[e._v("先解释 "),t("code",[e._v("exports")]),e._v(" 和 "),t("code",[e._v("module.exports")]),t("br"),e._v("在一个node执行一个文件时，会给这个文件内生成一个 "),t("code",[e._v("exports")]),e._v("和"),t("code",[e._v("module")]),e._v("对象，"),t("br"),e._v("而"),t("code",[e._v("module")]),e._v("又有一个"),t("code",[e._v("exports")]),e._v("属性。他们之间的关系如下图，都指向一块{}内存区域。\n")]),e._v(" "),t("pre",{staticClass:"wp-block-code"},[t("code",[e._v("exports = module.exports = {};")])]),e._v(" "),t("p",[e._v("那下面我们来看看代码的吧。\n")]),e._v(" "),t("pre",{staticClass:"wp-block-code"},[t("code",[e._v("//utils.js\nlet a = 100;\n\nconsole.log(module.exports); //能打印出结果为：{}\nconsole.log(exports); //能打印出结果为：{}\n\nexports.a = 200; //这里辛苦劳作帮 module.exports 的内容给改成 {a : 200}\n\nexports = '指向其他内存区'; //这里把exports的指向指走\n\n//test.js\n\nvar a = require('/utils');\nconsole.log(a) // 打印为 {a : 200} ")])]),e._v(" "),t("blockquote",{staticClass:"wp-block-quote"},[e._v("从上面可以看出，其实"),t("code",[e._v("require")]),e._v("导出的内容是"),t("code",[e._v("module.exports")]),e._v("的指向的内存块内容，并不是"),t("code",[e._v("exports")]),e._v("的。"),t("br"),e._v("简而言之，区分他们之间的区别就是 "),t("code",[e._v("exports")]),e._v(" 只是 "),t("code",[e._v("module.exports")]),e._v("的引用，辅助后者添加内容用的。")]),e._v(" "),t("p",[e._v("用白话讲就是，"),t("code",[e._v("exports")]),e._v("只辅助"),t("code",[e._v("module.exports")]),e._v("操作内存中的数据，辛辛苦苦各种操作数据完，累得要死，结果到最后真正被"),t("code",[e._v("require")]),e._v("出去的内容还是"),t("code",[e._v("module.exports")]),e._v("的，真是好苦逼啊。\n")]),e._v(" "),t("p",[e._v("其实大家用内存块的概念去理解，就会很清楚了。\n")]),e._v(" "),t("p",[e._v("然后呢，为了避免糊涂，尽量都用 "),t("code",[e._v("module.exports")]),e._v(" 导出，然后用"),t("code",[e._v("require")]),e._v("导入。\n")]),e._v(" "),t("h2",{attrs:{id:"articleHeader2"}},[e._v("ES中的模块导出导入")]),e._v(" "),t("p",[e._v("说实话，在es中的模块，就非常清晰了。不过也有一些细节的东西需要搞清楚。"),t("br"),e._v("比如 "),t("code",[e._v("export")]),e._v(" 和 "),t("code",[e._v("export default")]),e._v("，还有 导入的时候，"),t("code",[e._v("import a from ..")]),e._v(","),t("code",[e._v("import {a} from ..")]),e._v("，总之也有点乱，那么下面我们就开始把它们捋清楚吧。\n")]),e._v(" "),t("h3",{attrs:{id:"articleHeader3"}},[e._v("export 和 export default")]),e._v(" "),t("p",[e._v("首先我们讲这两个导出，下面我们讲讲它们的区别\n")]),e._v(" "),t("ol",[t("li",[e._v("export与export default均可用于导出常量、函数、文件、模块等2. 在一个文件或模块中，export、import可以有多个，export default仅有一个3. 通过export方式导出，在导入时要加{ }，export default则不需要4. export能直接导出变量表达式，export default不行。\n")])]),e._v(" "),t("p",[e._v("下面咱们看看代码去验证一下\n")]),e._v(" "),t("p",[e._v("####testEs6Export.js\n")]),e._v(" "),t("pre",{staticClass:"wp-block-code"},[t("code",[e._v("'use strict'\n//导出变量\nexport const a = '100';  \n\n //导出方法\nexport const dogSay = function(){ \n    console.log('wang wang');\n}\n\n //导出方法第二种\nfunction catSay(){\n   console.log('miao miao'); \n}\nexport { catSay };\n\n//export default导出\nconst m = 100;\nexport default m; \n//export defult const m = 100;// 这里不能写这种格式。\n")])]),e._v(" "),t("p",[e._v("####index.js\n")]),e._v(" "),t("pre",{staticClass:"wp-block-code"},[t("code",[e._v("//index.js\n'use strict'\nvar express = require('express');\nvar router = express.Router();\n\nimport { dogSay, catSay } from './testEs6Export'; //导出了 export 方法 \nimport m from './testEs6Export';  //导出了 export default \nimport * as testModule from './testEs6Export'; //as 集合成对象导出\n\n/* GET home page. */\nrouter.get('/', function(req, res, next) {\n  dogSay();\n  catSay();\n  console.log(m);\n  testModule.dogSay();\n  console.log(testModule.m); // undefined , 因为  as 导出是 把 零散的 export 聚集在一起作为一个对象，而export default 是导出为 default属性。\n  console.log(testModule.default); // 100\n  res.send('恭喜你，成功验证');\n});\n\nmodule.exports = router;")])]),e._v(" "),t("p",[e._v("从上面可以看出，确实感觉 "),t("code",[e._v("ES6")]),e._v("的模块系统非常灵活的。\n")])])}),[],!1,null,null,null);o.default=v.exports}}]);